#!/usr/bin/env python3
# uv: requires: python>=3.6

import csv
import sys

def main():
    # Use the first argument as input file if given, otherwise read from stdin
    if len(sys.argv) > 1:
        f = open(sys.argv[1], newline='', encoding='utf8')
    else:
        f = sys.stdin
    
    reader = csv.DictReader(f)
    for row in reader:
        if row["TYPE"].strip().lower() == "task":
            content = row["CONTENT"].strip()
            description = row["DESCRIPTION"].strip()
            print(f"- {content}")
            if description:
                print(f"    - {description}")
    
    if f is not sys.stdin:
        f.close()

if __name__ == "__main__":
    main()
